{"ast":null,"code":"// src/db.js\nimport Dexie from \"dexie\";\nexport const db = new Dexie(\"TalentFlowDB\");\ndb.version(1).stores({\n  assessments: \"++id, title, sections\"\n});\n\n// seed (3 assessments × 12 questions each)\nexport async function seedIfNeeded() {\n  const count = await db.assessments.count();\n  if (count > 0) return;\n  const frontend = {\n    title: \"Assessment 1 — Frontend\",\n    sections: [{\n      id: 1,\n      name: \"Section 1 - Frontend\",\n      questions: Array.from({\n        length: 12\n      }, (_, q) => {\n        const i = q + 1;\n        return {\n          id: `f-${i}`,\n          label: `Question ${i} (frontend)`,\n          type: i % 5 === 1 ? \"short\" : i % 5 === 2 ? \"long\" : i % 5 === 3 ? \"numeric\" : i % 5 === 4 ? \"single-choice\" : \"multi-choice\",\n          required: i % 3 === 0,\n          maxLength: i % 5 === 2 ? 250 : undefined,\n          range: i % 5 === 3 ? {\n            min: 0,\n            max: 10\n          } : undefined,\n          options: i % 5 === 4 || i % 5 === 0 ? [\"A\", \"B\", \"C\"] : undefined,\n          condition: {\n            dependsOn: \"\",\n            value: \"\"\n          } // no condition by default\n        };\n      })\n    }]\n  };\n  const backend = {\n    title: \"Assessment 2 — Backend\",\n    sections: [{\n      id: 1,\n      name: \"Section 1 - Backend\",\n      questions: Array.from({\n        length: 12\n      }, (_, q) => {\n        const i = q + 1;\n        return {\n          id: `b-${i}`,\n          label: `Question ${i} (backend)`,\n          type: i % 5 === 1 ? \"short\" : i % 5 === 2 ? \"long\" : i % 5 === 3 ? \"numeric\" : i % 5 === 4 ? \"single-choice\" : \"multi-choice\",\n          required: i % 2 === 0,\n          maxLength: i % 5 === 2 ? 300 : undefined,\n          range: i % 5 === 3 ? {\n            min: 1,\n            max: 5\n          } : undefined,\n          options: i % 5 === 4 || i % 5 === 0 ? [\"Yes\", \"No\", \"Maybe\"] : undefined,\n          condition: {\n            dependsOn: \"\",\n            value: \"\"\n          }\n        };\n      })\n    }]\n  };\n  const dbs = {\n    title: \"Assessment 3 — Databases\",\n    sections: [{\n      id: 1,\n      name: \"Section 1 - Databases\",\n      questions: Array.from({\n        length: 12\n      }, (_, q) => {\n        const i = q + 1;\n        return {\n          id: `d-${i}`,\n          label: `Question ${i} (db)`,\n          type: i % 5 === 1 ? \"short\" : i % 5 === 2 ? \"long\" : i % 5 === 3 ? \"numeric\" : i % 5 === 4 ? \"single-choice\" : \"multi-choice\",\n          required: false,\n          maxLength: i % 5 === 2 ? 200 : undefined,\n          range: i % 5 === 3 ? {\n            min: 0,\n            max: 20\n          } : undefined,\n          options: i % 5 === 4 || i % 5 === 0 ? [\"Opt1\", \"Opt2\", \"Opt3\"] : undefined,\n          condition: {\n            dependsOn: \"\",\n            value: \"\"\n          }\n        };\n      })\n    }]\n  };\n  await db.assessments.bulkAdd([frontend, backend, dbs]);\n  console.log(\"✅ Seeded 3 assessments (12 questions each)\");\n}","map":{"version":3,"names":["Dexie","db","version","stores","assessments","seedIfNeeded","count","frontend","title","sections","id","name","questions","Array","from","length","_","q","i","label","type","required","maxLength","undefined","range","min","max","options","condition","dependsOn","value","backend","dbs","bulkAdd","console","log"],"sources":["C:/Users/viren/Trial 2/src/hooks/db.js"],"sourcesContent":["// src/db.js\r\nimport Dexie from \"dexie\";\r\n\r\nexport const db = new Dexie(\"TalentFlowDB\");\r\ndb.version(1).stores({\r\n  assessments: \"++id, title, sections\",\r\n});\r\n\r\n// seed (3 assessments × 12 questions each)\r\nexport async function seedIfNeeded() {\r\n  const count = await db.assessments.count();\r\n  if (count > 0) return;\r\n\r\n  const frontend = {\r\n    title: \"Assessment 1 — Frontend\",\r\n    sections: [\r\n      {\r\n        id: 1,\r\n        name: \"Section 1 - Frontend\",\r\n        questions: Array.from({ length: 12 }, (_, q) => {\r\n          const i = q + 1;\r\n          return {\r\n            id: `f-${i}`,\r\n            label: `Question ${i} (frontend)`,\r\n            type: i % 5 === 1 ? \"short\" :\r\n                  i % 5 === 2 ? \"long\" :\r\n                  i % 5 === 3 ? \"numeric\" :\r\n                  i % 5 === 4 ? \"single-choice\" :\r\n                                \"multi-choice\",\r\n            required: i % 3 === 0,\r\n            maxLength: i % 5 === 2 ? 250 : undefined,\r\n            range: i % 5 === 3 ? { min: 0, max: 10 } : undefined,\r\n            options: (i % 5 === 4 || i % 5 === 0) ? [\"A\",\"B\",\"C\"] : undefined,\r\n            condition: { dependsOn: \"\", value: \"\" } // no condition by default\r\n          };\r\n        })\r\n      }\r\n    ]\r\n  };\r\n\r\n  const backend = {\r\n    title: \"Assessment 2 — Backend\",\r\n    sections: [\r\n      {\r\n        id: 1,\r\n        name: \"Section 1 - Backend\",\r\n        questions: Array.from({ length: 12 }, (_, q) => {\r\n          const i = q + 1;\r\n          return {\r\n            id: `b-${i}`,\r\n            label: `Question ${i} (backend)`,\r\n            type: i % 5 === 1 ? \"short\" :\r\n                  i % 5 === 2 ? \"long\" :\r\n                  i % 5 === 3 ? \"numeric\" :\r\n                  i % 5 === 4 ? \"single-choice\" :\r\n                                \"multi-choice\",\r\n            required: i % 2 === 0,\r\n            maxLength: i % 5 === 2 ? 300 : undefined,\r\n            range: i % 5 === 3 ? { min: 1, max: 5 } : undefined,\r\n            options: (i % 5 === 4 || i % 5 === 0) ? [\"Yes\",\"No\",\"Maybe\"] : undefined,\r\n            condition: { dependsOn: \"\", value: \"\" }\r\n          };\r\n        })\r\n      }\r\n    ]\r\n  };\r\n\r\n  const dbs = {\r\n    title: \"Assessment 3 — Databases\",\r\n    sections: [\r\n      {\r\n        id: 1,\r\n        name: \"Section 1 - Databases\",\r\n        questions: Array.from({ length: 12 }, (_, q) => {\r\n          const i = q + 1;\r\n          return {\r\n            id: `d-${i}`,\r\n            label: `Question ${i} (db)`,\r\n            type: i % 5 === 1 ? \"short\" :\r\n                  i % 5 === 2 ? \"long\" :\r\n                  i % 5 === 3 ? \"numeric\" :\r\n                  i % 5 === 4 ? \"single-choice\" :\r\n                                \"multi-choice\",\r\n            required: false,\r\n            maxLength: i % 5 === 2 ? 200 : undefined,\r\n            range: i % 5 === 3 ? { min: 0, max: 20 } : undefined,\r\n            options: (i % 5 === 4 || i % 5 === 0) ? [\"Opt1\",\"Opt2\",\"Opt3\"] : undefined,\r\n            condition: { dependsOn: \"\", value: \"\" }\r\n          };\r\n        })\r\n      }\r\n    ]\r\n  };\r\n\r\n  await db.assessments.bulkAdd([frontend, backend, dbs]);\r\n  console.log(\"✅ Seeded 3 assessments (12 questions each)\");\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}