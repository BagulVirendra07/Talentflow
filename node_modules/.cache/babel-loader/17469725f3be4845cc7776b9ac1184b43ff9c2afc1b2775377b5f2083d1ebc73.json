{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\viren\\\\Trial 2\\\\src\\\\components\\\\Assessments\\\\RuntimeForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RuntimeForm({\n  assessment,\n  readOnly,\n  onSubmit\n}) {\n  _s();\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  function handleChange(qid, val) {\n    setValues(v => ({\n      ...v,\n      [qid]: val\n    }));\n  }\n  function validate() {\n    const errs = {};\n    assessment.sections.forEach(s => s.questions.forEach(q => {\n      if (q.required && !values[q.id]) errs[q.id] = 'required';\n      if (q.type === 'numeric' && q.min != null && Number(values[q.id]) < q.min) errs[q.id] = 'min';\n      if (q.type === 'numeric' && q.max != null && Number(values[q.id]) > q.max) errs[q.id] = 'max';\n    }));\n    setErrors(errs);\n    return Object.keys(errs).length === 0;\n  }\n  async function submit() {\n    if (!validate()) return;\n    if (onSubmit) await onSubmit(values);\n    if (!readOnly) alert('submitted (local)');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [assessment.sections.map((s, si) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: s.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 1\n      }, this), s.questions.map(q => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [q.label, \" \", q.required && '*']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 1\n        }, this), q.type === 'short' && /*#__PURE__*/_jsxDEV(\"input\", {\n          value: values[q.id] || '',\n          onChange: e => handleChange(q.id, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 22\n        }, this), q.type === 'long' && /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: values[q.id] || '',\n          onChange: e => handleChange(q.id, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), q.type === 'single' && (q.options || ['Yes', 'No']).map(o => /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: q.id,\n            checked: values[q.id] === o,\n            onChange: () => handleChange(q.id, o)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 16\n          }, this), o]\n        }, o, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 1\n        }, this)), q.type === 'multi' && (q.options || ['A', 'B']).map(o => /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: (values[q.id] || []).includes(o),\n            onChange: e => {\n              const prev = values[q.id] || [];\n              if (e.target.checked) handleChange(q.id, [...prev, o]);else handleChange(q.id, prev.filter(x => x !== o));\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 16\n          }, this), o]\n        }, o, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 1\n        }, this)), q.type === 'numeric' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: values[q.id] || '',\n          onChange: e => handleChange(q.id, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 24\n        }, this), q.type === 'file' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), errors[q.id] && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small\",\n          style: {\n            color: 'red'\n          },\n          children: errors[q.id]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 18\n        }, this)]\n      }, q.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 1\n      }, this))]\n    }, si, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 1\n    }, this)), !readOnly && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 1\n  }, this);\n}\n_s(RuntimeForm, \"/Dj7d95pfugZKFaXWTZk/bXt68A=\");\n_c = RuntimeForm;\nvar _c;\n$RefreshReg$(_c, \"RuntimeForm\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","RuntimeForm","assessment","readOnly","onSubmit","_s","values","setValues","errors","setErrors","handleChange","qid","val","v","validate","errs","sections","forEach","s","questions","q","required","id","type","min","Number","max","Object","keys","length","submit","alert","children","map","si","style","marginBottom","title","fileName","_jsxFileName","lineNumber","columnNumber","label","value","onChange","e","target","options","o","name","checked","includes","prev","filter","x","disabled","className","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/viren/Trial 2/src/components/Assessments/RuntimeForm.jsx"],"sourcesContent":["import React, {useState} from 'react';\r\n\r\n\r\nexport default function RuntimeForm({assessment, readOnly, onSubmit}){\r\nconst [values,setValues] = useState({});\r\nconst [errors,setErrors] = useState({});\r\n\r\n\r\nfunction handleChange(qid,val){\r\nsetValues(v=> ({...v,[qid]:val}));\r\n}\r\n\r\n\r\nfunction validate(){\r\nconst errs = {};\r\nassessment.sections.forEach(s=> s.questions.forEach(q=>{\r\nif (q.required && !values[q.id]) errs[q.id] = 'required';\r\nif (q.type==='numeric' && q.min!=null && Number(values[q.id])<q.min) errs[q.id]='min';\r\nif (q.type==='numeric' && q.max!=null && Number(values[q.id])>q.max) errs[q.id]='max';\r\n}));\r\nsetErrors(errs);\r\nreturn Object.keys(errs).length===0;\r\n}\r\n\r\n\r\nasync function submit(){\r\nif (!validate()) return;\r\nif (onSubmit) await onSubmit(values);\r\nif (!readOnly) alert('submitted (local)');\r\n}\r\n\r\n\r\nreturn (\r\n<div>\r\n{assessment.sections.map((s,si)=> (\r\n<div key={si} style={{marginBottom:12}}>\r\n<h4>{s.title}</h4>\r\n{s.questions.map(q=> (\r\n<div key={q.id} style={{marginBottom:8}}>\r\n<label>{q.label} {q.required && '*'}</label>\r\n{q.type==='short' && <input value={values[q.id]||''} onChange={e=>handleChange(q.id,e.target.value)} />}\r\n{q.type==='long' && <textarea value={values[q.id]||''} onChange={e=>handleChange(q.id,e.target.value)} />}\r\n{q.type==='single' && (q.options||['Yes','No']).map(o=> (\r\n<label key={o}><input type=\"radio\" name={q.id} checked={values[q.id]===o} onChange={()=>handleChange(q.id,o)} />{o}</label>\r\n))}\r\n{q.type==='multi' && (q.options||['A','B']).map(o=> (\r\n<label key={o}><input type=\"checkbox\" checked={(values[q.id]||[]).includes(o)} onChange={e=>{\r\nconst prev = values[q.id]||[];\r\nif (e.target.checked) handleChange(q.id,[...prev,o]); else handleChange(q.id, prev.filter(x=> x!==o));\r\n}} />{o}</label>\r\n))}\r\n{q.type==='numeric' && <input type=\"number\" value={values[q.id]||''} onChange={e=>handleChange(q.id,e.target.value)} />}\r\n{q.type==='file' && <div><input type=\"file\" disabled /></div>}\r\n{errors[q.id] && <div className=\"small\" style={{color:'red'}}>{errors[q.id]}</div>}\r\n</div>\r\n))}\r\n</div>\r\n))}\r\n{!readOnly && <button onClick={submit}>Submit</button>}\r\n</div>\r\n)\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}